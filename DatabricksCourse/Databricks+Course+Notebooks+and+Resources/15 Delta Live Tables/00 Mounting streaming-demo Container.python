{"version":"NotebookV1","origId":3603969348519417,"name":"00 Mounting streaming-demo Container","language":"python","commands":[{"version":"CommandV1","origId":3603969348519418,"guid":"1d8efdae-54e1-41ab-9bb0-2b174b45886d","subtype":"command","commandType":"auto","position":0.5,"command":"%md\n##### Code to mount the new container to DBFS","commandVersion":48,"state":"input","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":null,"subcommandOptions":null,"contentSha256Hex":null,"nuid":"cdba53a8-f57c-4c18-9936-b25f662005e5"},{"version":"CommandV1","origId":3603969348519419,"guid":"e7701629-8c92-4433-bfb0-a8eb49f43fe4","subtype":"command","commandType":"auto","position":1.0,"command":"# Mounting the new streaming container into DBFS\napplication_id = dbutils.secrets.get(scope=\"YOUR SCOPE HERE\", key=\"YOUR SECRET KEY HERE\")\ntenant_id = dbutils.secrets.get(scope=\"YOUR SCOPE HERE\", key=\"YOUR SECRET KEY HERE\")\nsecret = dbutils.secrets.get(scope=\"YOUR SCOPE HERE\", key=\"YOUR SECRET KEY HERE\")\n\ncontainer_name = 'YOUR CONTAINER NAME HERE'\naccount_name = 'YOUR ACCOUNT NAME HERE'\nmount_point = 'YOUR MOUNT POINT PATH HERE'\n\nconfigs = {\"fs.azure.account.auth.type\": \"OAuth\",\n          \"fs.azure.account.oauth.provider.type\": \"org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider\",\n          \"fs.azure.account.oauth2.client.id\": application_id,\n          \"fs.azure.account.oauth2.client.secret\": secret,\n          \"fs.azure.account.oauth2.client.endpoint\": f\"https://login.microsoftonline.com/{tenant_id}/oauth2/token\"}\n\n# Optionally, you can add <directory-name> to the source URI of your mount point.\ndbutils.fs.mount(\n  source = f\"abfss://{container_name}@{account_name}.dfs.core.windows.net/\",\n  mount_point = mount_point,\n  extra_configs = configs)","commandVersion":23,"state":"input","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":null,"subcommandOptions":null,"contentSha256Hex":null,"nuid":"0128e40b-0003-4bff-af14-156448594f28"},{"version":"CommandV1","origId":3603969348519420,"guid":"09f69a05-180d-4f62-93c3-885ffe5f139b","subtype":"command","commandType":"auto","position":4.0,"command":"","commandVersion":0,"state":"input","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":null,"subcommandOptions":null,"contentSha256Hex":null,"nuid":"31efa185-8e4b-44d0-af6d-618c0c34c858"}],"dashboards":[],"guid":"0a2dca92-1248-4f6a-b241-d6678b295621","globalVars":{},"iPythonMetadata":null,"inputWidgets":{},"notebookMetadata":{"pythonIndentUnit":4},"reposExportFormat":"SOURCE"}